================================================================================
MONEY POOLS & INVESTMENTS - COMPLETE PAGE SPECIFICATIONS
RoomMate Manager - Collaborative Savings & Investment Module
================================================================================

OVERVIEW
--------
The Money Pools system enables roommates to pool money for rotating payouts
(chit fund model) and track collaborative investments. This is a unique
financial management tool for roommate communities.

KEY FEATURES
-----------
âœ“ Rotating payout system (chit fund model)
âœ“ Automated payout scheduling
âœ“ Manual contribution tracking (MVP)
âœ“ Contribution verification by admin
âœ“ Penalties for missed contributions
âœ“ Early exit handling
âœ“ Pool completion tracking
âœ“ Investment tracking (manual entry, informational only)
âœ“ Multi-pool support per apartment
âœ“ Contribution history and reports

TERMINOLOGY
-----------
Money Pool: A group savings mechanism where members contribute fixed amounts
            monthly, and each member receives the full pool amount in rotation
            
Chit Fund: Traditional rotating savings model (inspiration for this feature)

Payout: When a member receives the entire pool amount for that period

Contribution: Monthly payment each member makes to the pool

================================================================================
1. MONEY POOLS DASHBOARD
================================================================================

Route: /money-pools
Component: MoneyPoolsDashboardPage.tsx
Permission: All Apartment Members

LAYOUT STRUCTURE
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Money Pools & Investments ğŸ’°                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚Active    â”‚ â”‚Total     â”‚ â”‚Next      â”‚    â”‚
â”‚ â”‚Pools     â”‚ â”‚Contributedâ”‚Payout    â”‚    â”‚
â”‚ â”‚2         â”‚ â”‚â‚¹24,000   â”‚ â‚¹12,000  â”‚    â”‚
â”‚ â”‚          â”‚ â”‚All time  â”‚ Month 8  â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Tabs: [Active Pools] [Completed] [Investments]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ACTIVE POOLS (2)                             â”‚
â”‚                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ ğŸ¯ Emergency Fund Pool              â”‚    â”‚
â”‚ â”‚ Started: Jan 2025 | 9 months total  â”‚    â”‚
â”‚ â”‚                                      â”‚    â”‚
â”‚ â”‚ Your Status:                         â”‚    â”‚
â”‚ â”‚ â€¢ Position: 7/9                     â”‚    â”‚
â”‚ â”‚ â€¢ Contributed: â‚¹1,000 Ã— 6 = â‚¹6K    â”‚    â”‚
â”‚ â”‚ â€¢ Expected Payout: Month 7 (Jul '25)â”‚    â”‚
â”‚ â”‚ â€¢ Amount to Receive: â‚¹9,000         â”‚    â”‚
â”‚ â”‚                                      â”‚    â”‚
â”‚ â”‚ This Month (Month 6):                â”‚    â”‚
â”‚ â”‚ â€¢ Your Contribution: â‚¹1,000 âœ“ Paid  â”‚    â”‚
â”‚ â”‚ â€¢ Payout Recipient: Sarah           â”‚    â”‚
â”‚ â”‚ â€¢ Pool Status: 8/9 paid â±ï¸          â”‚    â”‚
â”‚ â”‚                                      â”‚    â”‚
â”‚ â”‚ [View Details] [Payment History]    â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ ğŸ–ï¸ Vacation Fund Pool               â”‚    â”‚
â”‚ â”‚ Started: Mar 2025 | 12 months total â”‚    â”‚
â”‚ â”‚                                      â”‚    â”‚
â”‚ â”‚ Your Status:                         â”‚    â”‚
â”‚ â”‚ â€¢ Position: 3/12 â­ PAYOUT SOON!    â”‚    â”‚
â”‚ â”‚ â€¢ Contributed: â‚¹500 Ã— 2 = â‚¹1K       â”‚    â”‚
â”‚ â”‚ â€¢ Expected Payout: Month 3 (May '25) â”‚    â”‚
â”‚ â”‚ â€¢ Amount to Receive: â‚¹6,000         â”‚    â”‚
â”‚ â”‚                                      â”‚    â”‚
â”‚ â”‚ This Month (Month 2):                â”‚    â”‚
â”‚ â”‚ â€¢ Your Contribution: â‚¹500 âœ“ Paid    â”‚    â”‚
â”‚ â”‚ â€¢ Payout Recipient: Mike            â”‚    â”‚
â”‚ â”‚                                      â”‚    â”‚
â”‚ â”‚ [View Details] [Make Contribution]  â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [+ Create New Money Pool] (Admin Only)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

POOL CARD COMPONENTS
-------------------
Each pool card shows:

1. Pool Header
   - Pool name and emoji
   - Start date and duration
   - Status badge (Active/Completing/Completed)

2. Your Position & Contribution
   - Your payout position in queue
   - Total contributed so far
   - Expected payout month
   - Amount you'll receive

3. Current Month Status
   - Your contribution status (Paid/Pending)
   - This month's payout recipient
   - Overall payment status (X/Y paid)

4. Action Buttons
   - View Details (full breakdown)
   - Payment History (your contributions)
   - Make Contribution (if pending)

POOL STATUS INDICATORS
---------------------
Active: Green - Pool is ongoing
Completing: Yellow - Final months
Completed: Gray - All payouts done
Your Turn: Gold highlight - Next payout is yours

API CALLS
---------
```typescript
// Get user's money pools
GET /rest/v1/money_pool_participants?user_id=eq.{userId}&select=*,money_pools(*)

// Get contribution summary
GET /functions/v1/money-pool-summary?user_id={userId}

// Get current month status
GET /rest/v1/money_pool_contributions?user_id=eq.{userId}&contribution_date=gte.{thisMonth}
```

COMPONENTS
----------
1. SummaryCardsGrid
   - ActivePoolsCard
   - TotalContributedCard
   - NextPayoutCard

2. TabNavigation
   - Active Pools (default)
   - Completed Pools
   - Investments

3. PoolCard (repeated component)
   - PoolHeader
   - YourStatusSection
   - CurrentMonthSection
   - ActionButtons


================================================================================
2. MONEY POOL DETAIL PAGE
================================================================================

Route: /money-pools/:poolId
Component: MoneyPoolDetailPage.tsx
Permission: Pool Participant or Admin

LAYOUT STRUCTURE
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† Back to Money Pools                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¯ Emergency Fund Pool                      â”‚
â”‚ Status: ACTIVE (Month 6 of 9)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ POOL OVERVIEW                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Contribution: â‚¹1,000/month             â”‚  â”‚
â”‚ â”‚ Participants: 9 members                â”‚  â”‚
â”‚ â”‚ Pool Amount: â‚¹9,000/month              â”‚  â”‚
â”‚ â”‚ Total Duration: 9 months               â”‚  â”‚
â”‚ â”‚ Started: January 2025                  â”‚  â”‚
â”‚ â”‚ Expected End: September 2025           â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ YOUR POSITION                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Payout Position: 7 of 9                â”‚  â”‚
â”‚ â”‚ Your Payout Month: July 2025 (Month 7)â”‚  â”‚
â”‚ â”‚ Expected Amount: â‚¹9,000                â”‚  â”‚
â”‚ â”‚                                         â”‚  â”‚
â”‚ â”‚ Progress:                               â”‚  â”‚
â”‚ â”‚ Contributed: â‚¹6,000 (6 months)         â”‚  â”‚
â”‚ â”‚ Remaining: â‚¹2,000 (2 months)           â”‚  â”‚
â”‚ â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘] 75%                   â”‚  â”‚
â”‚ â”‚                                         â”‚  â”‚
â”‚ â”‚ Net Benefit:                            â”‚  â”‚
â”‚ â”‚ Pay: â‚¹8,000 total (8 months Ã— â‚¹1K)    â”‚  â”‚
â”‚ â”‚ Receive: â‚¹9,000 (month 7)             â”‚  â”‚
â”‚ â”‚ You'll pay â‚¹1,000 less than received  â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PAYOUT SCHEDULE (9 months)                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Month 1 (Jan '25) â”‚ John      â”‚ âœ“ Paid â”‚  â”‚
â”‚ â”‚ Month 2 (Feb '25) â”‚ Lisa      â”‚ âœ“ Paid â”‚  â”‚
â”‚ â”‚ Month 3 (Mar '25) â”‚ Mike      â”‚ âœ“ Paid â”‚  â”‚
â”‚ â”‚ Month 4 (Apr '25) â”‚ Sarah     â”‚ âœ“ Paid â”‚  â”‚
â”‚ â”‚ Month 5 (May '25) â”‚ Alex      â”‚ âœ“ Paid â”‚  â”‚
â”‚ â”‚ Month 6 (Jun '25) â”‚ Chris     â”‚ â±ï¸ Now  â”‚  â”‚
â”‚ â”‚ Month 7 (Jul '25) â”‚ YOU â­   â”‚ ğŸ“… Next â”‚  â”‚
â”‚ â”‚ Month 8 (Aug '25) â”‚ Emma      â”‚ Pendingâ”‚  â”‚
â”‚ â”‚ Month 9 (Sep '25) â”‚ David     â”‚ Pendingâ”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CONTRIBUTION STATUS (This Month)             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Month 6 (June 2025)                    â”‚  â”‚
â”‚ â”‚ Due Date: June 5, 2025                 â”‚  â”‚
â”‚ â”‚                                         â”‚  â”‚
â”‚ â”‚ Payment Status: 8/9 Paid               â”‚  â”‚
â”‚ â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘] 89%         â”‚  â”‚
â”‚ â”‚                                         â”‚  â”‚
â”‚ â”‚ âœ“ You (Paid: Jun 2)                   â”‚  â”‚
â”‚ â”‚ âœ“ John, Lisa, Mike, Sarah, Alex       â”‚  â”‚
â”‚ â”‚ âœ“ Emma, David                          â”‚  â”‚
â”‚ â”‚ â±ï¸ Chris (Due: Jun 5) â† Payout holder â”‚  â”‚
â”‚ â”‚                                         â”‚  â”‚
â”‚ â”‚ Payout: â‚¹9,000 to Chris               â”‚  â”‚
â”‚ â”‚ Status: Awaiting Chris's contribution â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ YOUR CONTRIBUTION HISTORY                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Month â”‚ Due Date  â”‚ Paid Date â”‚ Status â”‚  â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ â”‚ 6     â”‚ Jun 5 '25 â”‚ Jun 2 '25 â”‚ âœ“ Paid â”‚  â”‚
â”‚ â”‚ 5     â”‚ May 5 '25 â”‚ May 1 '25 â”‚ âœ“ Paid â”‚  â”‚
â”‚ â”‚ 4     â”‚ Apr 5 '25 â”‚ Apr 3 '25 â”‚ âœ“ Paid â”‚  â”‚
â”‚ â”‚ 3     â”‚ Mar 5 '25 â”‚ Mar 4 '25 â”‚ âœ“ Paid â”‚  â”‚
â”‚ â”‚ 2     â”‚ Feb 5 '25 â”‚ Feb 1 '25 â”‚ âœ“ Paid â”‚  â”‚
â”‚ â”‚ 1     â”‚ Jan 5 '25 â”‚ Jan 2 '25 â”‚ âœ“ Paid â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ Perfect Record! ğŸ† 100% on-time              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Mark Contribution Paid] [Request Exit]     â”‚
â”‚ [Download Statement PDF]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

KEY SECTIONS
-----------
1. Pool Overview
   - Basic pool configuration
   - Contribution amount
   - Timeline

2. Your Position
   - When you'll receive payout
   - Progress tracker
   - Net benefit calculation (important!)

3. Payout Schedule
   - All 9 months listed
   - Who gets payout each month
   - Status of each payout
   - Highlight your month

4. Current Month Status
   - Who's paid and who hasn't
   - This month's payout recipient
   - Overall collection status

5. Your History
   - All your contributions
   - Payment dates
   - Perfect record badge

HOW PAYOUT WORKS
---------------
Important Concept:

When it's YOUR payout month (Month 7):
- You DON'T contribute that month
- You RECEIVE â‚¹9,000 from other 8 members
- Other members each pay â‚¹1,000

Example Math:
- Total months: 9
- You pay in: 8 months Ã— â‚¹1,000 = â‚¹8,000
- You receive: 1 month Ã— â‚¹9,000 = â‚¹9,000
- Net: You get â‚¹1,000 more than you paid

This is why position matters:
- Position 1 (early): Get money first, but pay more later
- Position 9 (late): Pay everything first, then get it back
- Middle positions: Balanced


================================================================================
3. CREATE MONEY POOL (ADMIN)
================================================================================

Route: /admin/money-pools/create
Component: CreateMoneyPoolPage.tsx
Permission: Admin

LAYOUT STRUCTURE
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Create New Money Pool                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Pool Name *                                  â”‚
â”‚ [Emergency Fund___________________]         â”‚
â”‚ Add emoji: ğŸ¯                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Pool Type                                    â”‚
â”‚ âšª Equal Contribution (recommended)          â”‚
â”‚    Everyone pays the same amount            â”‚
â”‚ âšª Variable Contribution                     â”‚
â”‚    Members can pay different amounts        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Contribution Amount per Person *             â”‚
â”‚ â‚¹ [1000] per month                          â”‚
â”‚                                              â”‚
â”‚ Contribution Frequency                       â”‚
â”‚ âšª Weekly                                    â”‚
â”‚ ğŸ”˜ Monthly (recommended)                     â”‚
â”‚ âšª Quarterly                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Select Participants *                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ â˜‘ John Doe                             â”‚  â”‚
â”‚ â”‚ â˜‘ Sarah Smith                          â”‚  â”‚
â”‚ â”‚ â˜‘ Mike Johnson                         â”‚  â”‚
â”‚ â”‚ â˜‘ Lisa Brown                           â”‚  â”‚
â”‚ â”‚ â˜‘ You (Admin)                          â”‚  â”‚
â”‚ â”‚ â˜‘ Alex Wilson                          â”‚  â”‚
â”‚ â”‚ â˜‘ Chris Lee                            â”‚  â”‚
â”‚ â”‚ â˜‘ Emma Davis                           â”‚  â”‚
â”‚ â”‚ â˜‘ David Miller                         â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ Selected: 9 members                          â”‚
â”‚                                              â”‚
â”‚ Pool Calculation:                            â”‚
â”‚ Contribution: â‚¹1,000/month Ã— 9 = â‚¹9,000     â”‚
â”‚ Duration: 9 months (one per participant)    â”‚
â”‚ Total Pool Amount: â‚¹81,000                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Payout Order                                 â”‚
â”‚ âšª Random Assignment                         â”‚
â”‚ âšª First-Come-First-Serve                    â”‚
â”‚ ğŸ”˜ Manual Order (I'll set it)               â”‚
â”‚                                              â”‚
â”‚ [Set Payout Order â†’]                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Start Date *                                 â”‚
â”‚ [ğŸ“… January 5, 2025]                        â”‚
â”‚                                              â”‚
â”‚ Monthly Due Date                             â”‚
â”‚ Day [5] of each month                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Rules & Penalties                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Late Payment Grace Period               â”‚  â”‚
â”‚ â”‚ [3] days after due date                â”‚  â”‚
â”‚ â”‚                                         â”‚  â”‚
â”‚ â”‚ Late Fee                                â”‚  â”‚
â”‚ â”‚ â‚¹ [100] per late contribution          â”‚  â”‚
â”‚ â”‚                                         â”‚  â”‚
â”‚ â”‚ Loyalty Points Penalty                  â”‚  â”‚
â”‚ â”‚ [-50] points per missed contribution   â”‚  â”‚
â”‚ â”‚                                         â”‚  â”‚
â”‚ â”‚ Early Exit Policy                       â”‚  â”‚
â”‚ â”‚ â˜‘ Must pay remaining contributions     â”‚  â”‚
â”‚ â”‚ â˜ Can find replacement member          â”‚  â”‚
â”‚ â”‚ â˜ Forfeit payout if already received   â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Save as Draft] [Create & Notify Members]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

PAYOUT ORDER MODAL
-----------------
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Set Payout Order                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Drag to reorder members:                  â”‚
â”‚                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ 1. [â‰¡] John Doe                    â”‚   â”‚
â”‚ â”‚ 2. [â‰¡] Lisa Brown                  â”‚   â”‚
â”‚ â”‚ 3. [â‰¡] Mike Johnson                â”‚   â”‚
â”‚ â”‚ 4. [â‰¡] Sarah Smith                 â”‚   â”‚
â”‚ â”‚ 5. [â‰¡] Alex Wilson                 â”‚   â”‚
â”‚ â”‚ 6. [â‰¡] Emma Davis                  â”‚   â”‚
â”‚ â”‚ 7. [â‰¡] You (Admin)                 â”‚   â”‚
â”‚ â”‚ 8. [â‰¡] Chris Lee                   â”‚   â”‚
â”‚ â”‚ 9. [â‰¡] David Miller                â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                            â”‚
â”‚ ğŸ’¡ Tip: Position 1 gets payout first      â”‚
â”‚    Position 9 gets payout last            â”‚
â”‚                                            â”‚
â”‚ [Randomize Order] [Cancel] [Confirm]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

CREATION FLOW
------------
1. Validate form
2. Create money_pools record:
```typescript
const pool = {
  apartment_id: apartmentId,
  pool_name: formData.poolName,
  contribution_amount: formData.amount,
  contribution_frequency: formData.frequency,
  total_participants: participants.length,
  start_date: formData.startDate,
  duration_months: participants.length, // 1 month per person
  payout_order: selectedOrder, // Array of user IDs
  current_payout_index: 0,
  status: 'active',
  settings: {
    gracePeriod: formData.gracePeriod,
    lateFee: formData.lateFee,
    loyaltyPenalty: formData.loyaltyPenalty,
    earlyExitRules: formData.exitRules
  }
}

await supabase.from('money_pools').insert(pool)
```

3. Create money_pool_participants records:
```typescript
const participantRecords = selectedOrder.map((userId, index) => ({
  money_pool_id: pool.id,
  user_id: userId,
  payout_position: index + 1,
  has_received_payout: false,
  payout_received_date: null
}))

await supabase.from('money_pool_participants').insert(participantRecords)
```

4. Send notifications to all participants
5. Create first month contributions (status: pending)
6. Redirect to pool detail page


================================================================================
4. MARK CONTRIBUTION PAID
================================================================================

Component: MarkContributionPaidModal.tsx
Trigger: User clicks "Mark Contribution Paid"

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mark Contribution as Paid                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Pool: Emergency Fund                      â”‚
â”‚ Month: 6 (June 2025)                     â”‚
â”‚ Amount: â‚¹1,000                           â”‚
â”‚ Due Date: June 5, 2025                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Payment Method *                          â”‚
â”‚ [Select Method â–¼]                         â”‚
â”‚ â€¢ Cash to Admin                          â”‚
â”‚ â€¢ Bank Transfer                          â”‚
â”‚ â€¢ UPI                                    â”‚
â”‚ â€¢ Other                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Payment Date *                            â”‚
â”‚ [ğŸ“… Jun 2, 2025] (default: today)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Transaction Reference (if applicable)     â”‚
â”‚ [Optional reference number___________]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Notes (optional)                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Paid via UPI to admin              â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Cancel] [Submit for Verification]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

SUBMISSION FLOW
--------------
1. Validate form
2. Create contribution record:
```typescript
const contribution = {
  money_pool_id: poolId,
  user_id: userId,
  contribution_date: formData.paymentDate,
  amount: poolAmount,
  payment_status: 'pending', // Admin must verify
  payment_method: formData.method,
  transaction_reference: formData.reference,
  notes: formData.notes,
  month_number: currentMonth
}

await supabase.from('money_pool_contributions').insert(contribution)
```

3. Notify admin for verification
4. Check if all contributions received for this month
5. If yes, trigger payout processing
6. Award loyalty points when verified


================================================================================
5. PAYOUT PROCESSING (ADMIN)
================================================================================

Route: /admin/money-pools/:poolId/payout
Component: ProcessPayoutPage.tsx
Permission: Admin

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Process Payout - Month 6                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Pool: Emergency Fund                         â”‚
â”‚ Payout Recipient: Chris Lee                 â”‚
â”‚ Payout Amount: â‚¹9,000                       â”‚
â”‚ Due Date: June 5, 2025                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CONTRIBUTION STATUS (8 contributors)         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Member       â”‚Status  â”‚Paid Dateâ”‚Verifyâ”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ â”‚ John         â”‚âœ“ Paid  â”‚Jun 1    â”‚  âœ“  â”‚â”‚
â”‚ â”‚ Lisa         â”‚âœ“ Paid  â”‚Jun 2    â”‚  âœ“  â”‚â”‚
â”‚ â”‚ Mike         â”‚âœ“ Paid  â”‚Jun 3    â”‚  âœ“  â”‚â”‚
â”‚ â”‚ Sarah        â”‚âœ“ Paid  â”‚Jun 1    â”‚  âœ“  â”‚â”‚
â”‚ â”‚ Alex         â”‚âœ“ Paid  â”‚Jun 2    â”‚  âœ“  â”‚â”‚
â”‚ â”‚ You (Admin)  â”‚âœ“ Paid  â”‚Jun 1    â”‚  âœ“  â”‚â”‚
â”‚ â”‚ Emma         â”‚âœ“ Paid  â”‚Jun 4    â”‚  âœ“  â”‚â”‚
â”‚ â”‚ David        â”‚â±ï¸ Pendingâ”‚-       â”‚  -  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                              â”‚
â”‚ Status: 7/8 Verified (88%)                  â”‚
â”‚ Amount Collected: â‚¹7,000 / â‚¹8,000           â”‚
â”‚ Outstanding: David (â‚¹1,000)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PAYOUT OPTIONS                               â”‚
â”‚                                              â”‚
â”‚ âšª Wait for all contributions                â”‚
â”‚    Don't pay until everyone has paid        â”‚
â”‚                                              â”‚
â”‚ ğŸ”˜ Pay now with deduction                   â”‚
â”‚    Pay â‚¹7,000 now (Chris's contribution     â”‚
â”‚    covers the missing â‚¹1,000)               â”‚
â”‚                                              â”‚
â”‚ âšª Pay full from apartment fund             â”‚
â”‚    Pay â‚¹8,000 now, collect from David laterâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Payout Method                                â”‚
â”‚ [Select Method â–¼]                            â”‚
â”‚ â€¢ Cash                                       â”‚
â”‚ â€¢ Bank Transfer                              â”‚
â”‚ â€¢ UPI                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Transaction Reference                        â”‚
â”‚ [Enter reference____________]               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Cancel] [Process Payout]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

PAYOUT LOGIC
-----------
Important: Chris is getting payout this month, so Chris doesn't contribute.
8 other members must contribute â‚¹1,000 each = â‚¹8,000 total.

Wait Option: Do nothing until all 8 pay.

Pay Now with Deduction:
- Chris would have contributed â‚¹1,000 if not their payout month
- That â‚¹1,000 covers the missing contribution
- Pay Chris â‚¹7,000 (the collected amount)
- Chris effectively breaks even

Pay Full from Apartment:
- Admin pays Chris full â‚¹8,000
- Mark David's contribution as overdue
- Chase David for payment later
- Apartment fund bears risk

PROCESS PAYOUT FUNCTION
-----------------------
```typescript
async function processPayout({
  poolId,
  month,
  recipientId,
  amount,
  payoutMethod,
  transactionRef,
  option
}: ProcessPayoutParams) {
  // Update participant record
  await supabase
    .from('money_pool_participants')
    .update({
      has_received_payout: true,
      payout_received_date: new Date()
    })
    .eq('money_pool_id', poolId)
    .eq('user_id', recipientId)
  
  // Move to next payout index
  await supabase
    .from('money_pools')
    .update({
      current_payout_index: currentIndex + 1
    })
    .eq('id', poolId)
  
  // Create payout record
  await supabase.from('money_pool_payouts').insert({
    money_pool_id: poolId,
    recipient_id: recipientId,
    amount: amount,
    month_number: month,
    payout_method: payoutMethod,
    transaction_reference: transactionRef,
    paid_at: new Date(),
    processed_by: adminId
  })
  
  // Notify recipient
  await sendNotification({
    userId: recipientId,
    title: 'ğŸ’° Money Pool Payout Received',
    message: `You've received â‚¹${amount} from ${poolName}!`,
    channels: ['email', 'push', 'in_app']
  })
  
  // Award loyalty points to all who paid on time
  await awardPaymentPoints(poolId, month)
  
  // Check if pool is complete
  if (currentIndex + 1 === totalParticipants) {
    await completePool(poolId)
  }
}
```


================================================================================
6. INVESTMENTS TRACKING (MVP)
================================================================================

Route: /investments
Component: InvestmentsPage.tsx
Permission: Apartment Members

NOTE: MVP version is manual tracking only, no financial calculations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Collaborative Investments ğŸ“ˆ                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’¡ This is for tracking only. No financial  â”‚
â”‚    calculations or automatic management.     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [+ Add Investment] (Admin Only)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ACTIVE INVESTMENTS (3)                       â”‚
â”‚                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ ğŸ“Š Mutual Fund - HDFC Balanced      â”‚    â”‚
â”‚ â”‚ Started: Jan 2025                    â”‚    â”‚
â”‚ â”‚                                      â”‚    â”‚
â”‚ â”‚ Participants: 5 members              â”‚    â”‚
â”‚ â”‚ â€¢ John: â‚¹5,000                      â”‚    â”‚
â”‚ â”‚ â€¢ Sarah: â‚¹5,000                     â”‚    â”‚
â”‚ â”‚ â€¢ You: â‚¹5,000                       â”‚    â”‚
â”‚ â”‚ â€¢ Mike: â‚¹3,000                      â”‚    â”‚
â”‚ â”‚ â€¢ Lisa: â‚¹2,000                      â”‚    â”‚
â”‚ â”‚ Total: â‚¹20,000                      â”‚    â”‚
â”‚ â”‚                                      â”‚    â”‚
â”‚ â”‚ Expected Return: 12% p.a.           â”‚    â”‚
â”‚ â”‚ Maturity: Jan 2030 (5 years)        â”‚    â”‚
â”‚ â”‚                                      â”‚    â”‚
â”‚ â”‚ [View Details] [Add Note]           â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ ğŸ¢ Fixed Deposit - SBI Bank         â”‚    â”‚
â”‚ â”‚ ...similar structure...              â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

FEATURES (MANUAL TRACKING)
-------------------------
âœ“ Record investment details (name, type, amount)
âœ“ Track participants and their contributions
âœ“ Record expected returns and maturity dates
âœ“ Add notes and updates
âœ“ View history

âœ— No automatic profit/loss calculation
âœ— No live market value tracking
âœ— No transaction processing
âœ— No withdrawal management

This is purely informational - members track their
collaborative investments manually here for reference.

FUTURE ENHANCEMENTS (Post-MVP)
----------------------------
- Integration with investment platforms API
- Real-time portfolio value
- Profit/loss calculations
- Dividend tracking
- Tax reporting
- Automatic distributions

================================================================================
[Document Complete]
================================================================================

Pages Covered: 6 major pages
Database Tables: 5 tables
Core Features: Rotating payout system (unique!)

Status: COMPLETE SPECIFICATION
Next: Implementation begins!

